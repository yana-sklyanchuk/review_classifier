
# REST API

Реализация будет включать в себя чтение предоставленных данных json и их использование в качестве основы для API.

## Настройте среду: 

bash
pip3 install -r requirements.txt


Ниже представлена ​реализация API Flask, который использует обученную модель для классификации отзывов о ресторанах.

bash
python3 reviews_api.py

## Пример использования API
Чтобы протестировать API, вы можете использовать такой инструмент, как Postman или cURL, для отправки запроса POST в конечную точку /classify_reviews с полезной нагрузкой JSON. Вот пример использования cURL:

```bash
curl -X POST http://127.0.0.1:5000/classify_reviews \
-H "Content-Type: application/json" \
-d '{
  "reviews": [
    "Wow... Loved this place.",
    "Crust is not good.",
    "Not tasty and the texture was just nasty."
  ]
}'
```
- Ожидаемый ответ
API ответит объектом JSON, содержащим классифицированные мнения для каждого отзыва:

```json
{
  "sentiments": [
    "Позитивные",
    "Негативные",
    "Негативные"
  ]
}
```
## Заключение
Эта реализация предоставляет простой REST API для классификации обзоров ресторанов с использованием предварительно обученной модели анализа настроений. Можно расширить этот API, включив в него дополнительные функции, такие как хранение отзывов в базе данных, регистрация запросов или добавление аутентификации. Настроить путь модели и другие параметры в соответствии с конкретным вариантом использования.

# Хранение и анализ отзывов
Чтобы сохранить результаты классификации в базе данных и реализовать методы получения и анализа этих результатов, используем SQLite в качестве облегченного решения для работы с базами данных. Реализация включает в себя:
- Настройку базы данных SQLite.
- Сохранение результатов классификации в базу данных.
- Реализация методов для получения и анализа сохраненных результатов.
- Интеграция этой функциональности в существующий API Flask.

## Настройка базы данных SQLite
- Cоздаем базу данных SQLite и определяем таблицу для хранения отзывов и результатов их классификации.
 
 ```bash
 pythone3 tsqlite_table.py
```
- Измените API Flask для сохранения результатов. Далее мы модифицируем Flask API, чтобы после обработки отзывов сохранять результаты классификации в базу данных.

```bash
pythone3 reviews_api_deb.py
```
##  Пример использования API
### Классификация отзывов
- Чтобы классифицировать новые отзывы, вы можете отправить запрос POST на конечную точку /classify_reviews:

```bash
curl -X POST http://127.0.0.1:5000/classify_reviews \
-H "Content-Type: application/json" \
-d '{
  "reviews": [
    "Wow... Loved this place.",
    "Crust is not good.",
    "Not tasty and the texture was just nasty."
  ]
}'
```
- Получение классифицированных отзывов

Чтобы получить все классифицированные обзоры, отправьте запрос GET на конечную точку /get_classified_reviews:
```bash
[
    {"id": 1, "review": "Wow... Loved this place.", "sentiment": "Позитивные"},
    {"id": 2, "review": "Crust is not good.", "sentiment": "Негативные"},
    {"id": 3, "review": "Not tasty and the texture was just nasty.", "sentiment": "Негативные"}
]
```
### Заключение
Эта реализация предоставляет REST API для классификации обзоров ресторанов и сохранения результатов в базе данных SQLite. Можно расширить этот API, добавив дополнительные функции, такие как фильтрация результатов, анализ настроений или интеграция с внешним приложением. Настроить путь к модели и конфигурации базы данных в соответствии с конкретным вариантом использования.
